# -*- coding: utf-8 -*-
"""QR_code_yap_Zeynep.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/16-1RN8drMffoRKR76Pu0gHllyrSvQOwV
"""

from pydrive.auth import GoogleAuth
from pydrive.drive import GoogleDrive
from google.colab import auth
from oauth2client.client import GoogleCredentials
auth.authenticate_user()
gauth = GoogleAuth()
gauth.credentials = GoogleCredentials.get_application_default()
drive = GoogleDrive(gauth)
from google.colab import drive
drive.mount('/content/drive')

!pip install aztec-code-generator
!pip3 install https://github.com/dlenski/aztec_code_generator/archive/master.zip
!pip install pyStrich
!!pip install opencv-python
!pip install barcode-image-composer
!pip install python-barcode pylibdmtx opencv-python pillow
!apt-get -qq install -y barcode-image-composer && pip install -U barcode-image-composer
!pip install argparse
!pip install imgcomposer
!pip3 install pylibdmtx
!sudo apt-get install libdmtx0a
!pip install pylibdmtx
!pip install pylibdmtx[scripts]
!pip install aspose-barcode-for-python-via-net

import glob
import cv2
import pandas as pd
import pathlib

from PIL import Image

#https://pypi.org/project/aztec-code-generator/   #yandaki kod linki aztec code oluştur
#https://pypi.org/project/pylibdmtx/   # yandaki kod linki datamatrix oluştur
from pystrich.datamatrix import DataMatrixEncoder
from aztec_code_generator import AztecCode
from aspose.barcode import generation

import pandas as pd
import numpy as np

df1 = pd.read_csv("/content/drive/MyDrive/renkli_qr_Code/data somlap/somlap.csv", error_bad_lines=False)
print(df1.shape)
print(df1.columns)
df1.head()

df1.head()

df1['class'].value_counts()

df1['class'].value_counts()

df1.isna().sum().sum()

df1 = df1.dropna()

df1.isna().sum().sum()

df1.info()

label_dict = {
    0: 0,  #'benign':0
    1: 1   #'malign':1

}
df1['class'] = [label_dict[item] for item in df1['class']]

df1.head()

df1['class'].value_counts()

df1.to_csv("/content/drive/MyDrive/renkli_qr_Code/data somlap/somlap.csv")

data = pd.read_csv("/content/drive/MyDrive/renkli_qr_Code/data somlap/somlap.csv", error_bad_lines=False)
print(data.columns)
data.head()

df = data.drop( columns = ["Unnamed: 0","Unnamed: 0.1","Unnamed: 0.2","Unnamed: 0.3","Unnamed: 0.4","Unnamed: 0.5","Unnamed: 0.6"])
df.head()
print(df.columns)

df.head()

df.info()

!pip install qrcode

import qrcode
import os

def QRcode():

  for index,values in df.iterrows():
    label1 = values["class"]
    k1 = values["blp"]
    k2 = values["Fp"]
    k3 = values["Rn"]
    k4 = values["Prhdr"]
    k5 = values["Minpar"]
    k6 = values["Maxpar"]
    k7 = values["Ivalss"]
    k8 = values["Ivalsp"]
    k9 = values["doscksum"]
    k10 = values["Iip"]
    k11 = values["Ics"]
    k12 = values["Rta"]
    k13 = values["Ovn"]
    k14 = values["Idoem"]
    k15 = values["Infoem"]
    k16 = values["exehdradr"]
    k17 = values["mach"]
    k18 = values["nsec"]
    k19 = values["tds"]
    k20 = values["ptrst"]
    k21 = values["stcnt"]
    k22 = values["ohs"]
    k23 = values["char"]
    k24 = values["sig"]
    k25 = values["majlv"]
    k26 = values["minlv"]
    k27 = values["codesize"]
    k28 = values["initdatsize"]
    k29 = values["uninitdatsize"]
    k30 = values["adrentpt"]
    k31 = values["cbase"]
    k32 = values["dbase"]
    k33 = values["ibase"]
    k34 = values["secalign"]
    k35 = values["filealign"]
    k36 = values["majosver"]
    k37 = values["minosver"]
    k38 = values["majiver"]
    k39 = values["miniver"]
    k40 = values["majssver"]
    k41 = values["minssver"]
    k42 = values["win32vv"]
    k43 = values["soi"]
    k44 = values["soh"]
    k45 = values["optcksum"]
    k46 = values["ss"]
    k47 = values["dllch"]
    k48 = values["sosr"]
    k49 = values["sosc"]
    k50 = values["sohr"]
    k51 = values["sohc"]
    k52 = values["ldflg"]
    k53 = values["ndirent"]
    k54 = values["Text_mscfaddr"]
    k55 = values["Text_secsize"]
    k56 = values["Text_byteaddr"]
    k57 = values["Text_datsize"]
    k58 = values["Text_ptrrawdat"]
    k59 = values["Text_ptrreloc"]
    k60 = values["Text_ptrlinenum"]
    k61 = values["Text_numrelocs"]
    k62 = values["Text_numlinenums"]
    k63 = values["Text_char"]
    k64 = values["class"]


    datam = f'''
    label:{label1}\n
    k1 : {k1}\n
    k2 : {k2}\n
    k3 : {k3}\n
    k4 : {k4}\n
    k5 : {k5}\n
    k6 : {k6}\n
    k7 : {k7}\n
    k8 : {k8}\n
    k9 : {k9}\n
    k10 : {k10}\n
    k11 : {k11}\n
    k12 : {k12}\n
    k13 : {k13}\n
    k14 : {k14}\n
    k15 : {k15}\n
    k16 : {k16}\n
    k17 : {k17}\n
    k18 : {k18}\n
    k19 : {k19}\n
    k20 : {k20}\n
    k21 : {k21}\n
    k22 : {k22}\n
    k23 : {k23}\n
    k24 : {k24}\n
    k25 : {k25}\n
    k26 : {k26}\n
    k27 : {k27}\n
    k28 : {k28}\n
    k29 : {k29}\n
    k30 : {k30}\n
    k31 : {k31}\n
    k32 : {k32}\n
    k33 : {k33}\n
    k34 : {k34}\n
    k35 : {k35}\n
    k36 : {k36}\n
    k37 : {k37}\n
    k38 : {k38}\n
    k39 : {k39}\n
    k40 : {k40}\n
    k41 : {k41}\n
    k42 : {k42}\n
    k43 : {k43}\n
    k44 : {k44}\n
    k45 : {k45}\n
    k46 : {k46}\n
    k47 : {k47}\n
    k48 : {k48}\n
    k49 : {k49}\n
    k50 : {k50}\n
    k51 : {k51}\n
    k52 : {k52}\n
    k53 : {k53}\n
    k54 : {k54}\n
    k55 : {k55}\n
    k56 : {k56}\n
    k57 : {k57}\n
    k58 : {k58}\n
    k59 : {k59}\n
    k60 : {k60}\n
    k61 : {k61}\n
    k62 : {k62}\n
    k63 : {k63}\n
    k64 : {k64}


    '''


    if ( label1 == 0):
      img = qrcode.make(datam)
      img.save(f"/content/drive/MyDrive/renkli_qr_Code/data somlap/data_qr_0/{index}.png") # Save the QR code in a file

    if ( label1 == 1):
      img = qrcode.make(datam)
      img.save(f"/content/drive/MyDrive/renkli_qr_Code/data somlap/data_qr_1/{index}.png") # Save the QR code in a file

QRcode()